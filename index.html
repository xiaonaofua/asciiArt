<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>轮廓ASCII艺术 - Outline ASCII Art</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>🎨 轮廓ASCII艺术</h1>
        <p>基于图像轮廓生成ASCII艺术</p>
    </header>

    <main class="container">
        <section class="upload-section">
            <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                    <div class="upload-icon">📁</div>
                    <h3>选择或拖拽图片</h3>
                    <p>支持PNG、JPEG格式</p>
                    <input type="file" id="imageInput" accept="image/png,image/jpeg,image/jpg" hidden>
                    <button type="button" id="selectButton" class="btn-primary">选择图片</button>
                </div>
            </div>
        </section>

        <section class="preview-section" id="previewSection" style="display: none;">
            <h3>原图预览</h3>
            <div class="image-preview">
                <img id="previewImage" alt="预览图片">
            </div>
            <div class="options">
                <div class="size-controls">
                    <label for="asciiWidth">ASCII宽度:</label>
                    <input type="range" id="asciiWidth" min="40" max="120" value="80">
                    <span id="widthValue">80</span>
                </div>
                <div class="size-controls">
                    <label for="edgeThreshold">边缘敏感度:</label>
                    <input type="range" id="edgeThreshold" min="50" max="200" value="100">
                    <span id="thresholdValue">100</span>
                </div>
                <div class="size-controls">
                    <label for="noiseReduction">噪音过滤:</label>
                    <input type="range" id="noiseReduction" min="0" max="10" value="3">
                    <span id="noiseValue">3</span>
                </div>
                <label>
                    <input type="checkbox" id="invertColors">
                    反转颜色
                </label>
                <label>
                    <input type="checkbox" id="enableOCR" checked>
                    启用文字识别 (OCR)
                </label>
                <label>
                    <input type="checkbox" id="autoOptimize" checked>
                    自动优化参数
                </label>
            </div>
            <button id="convertButton" class="btn-primary">🎯 智能转换ASCII</button>
        </section>

        <section class="loading-section" id="loadingSection" style="display: none;">
            <div class="loader">
                <div class="spinner"></div>
                <p id="loadingText">正在处理图片...</p>
            </div>
        </section>

        <section class="result-section" id="resultSection" style="display: none;">
            <h3>ASCII艺术结果</h3>
            <div class="result-controls">
                <button id="copyButton" class="btn-secondary">📋 复制结果</button>
                <button id="downloadButton" class="btn-secondary">💾 下载txt</button>
                <button id="resetButton" class="btn-secondary">🔄 重新开始</button>
            </div>
            <div class="ascii-result">
                <pre id="asciiOutput"></pre>
            </div>
        </section>
    </main>

    <footer>
        <p>智能ASCII艺术生成器 - 支持文字识别与图像轮廓 | 纯前端实现</p>
    </footer>

    <!-- 引入OCR依赖库 -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <script src="script.js"></script>
</body>
</html>